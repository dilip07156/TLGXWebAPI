
@{
    ViewBag.Title = "Downloads";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Static Data Downloads</h1>



<div class="container">

    <div class="row">
        <table class="table">
            <tr>
                <td class="col-md-7">
                    <strong>Countries</strong>
                </td>
                <td class="text-center">
                    <button type="button" id="countrycsv" class="btn btn-default">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                        <strong>CSV</strong>
                    </button>
                </td>
                <td class="text-center">
                    <button type="button" id="countryjson" class="btn btn-default">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                        <strong>JSON</strong>
                    </button>
                </td>
                <td class="text-center">
                    <button type="button" id="countryxml" class="btn btn-default">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                        <strong>XML</strong>
                    </button>
                </td>
            </tr>

            <tr>
                <td class="col-md-7">
                    <strong>Cities</strong>
                    @*<div class="input-group">
                            <label class="control-label input-group-addon"><strong>Cities By Country&nbsp;</strong></label>
                            <select id="ddlCityByCountry" class="form-control"></select>
                        </div>*@
                </td>
                <td class="text-center">
                    <button type="button" id="citycsv" class="btn btn-default">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                        <strong>CSV</strong>
                    </button>
                </td>
                <td class="text-center">
                    <button type="button" id="cityjson" class="btn btn-default">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                        <strong>JSON</strong>
                    </button>
                </td>
                <td class="text-center">
                    <button type="button" id="cityxml" class="btn btn-default">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                        <strong>XML</strong>
                    </button>
                </td>
            </tr>

            <tr>
                <td class="col-md-7">
                    <strong>States</strong>
                    @*<div class="input-group">
                            <label class="control-label input-group-addon"><strong>Cities By Country&nbsp;</strong></label>
                            <select id="ddlCityByCountry" class="form-control"></select>
                        </div>*@
                </td>
                <td class="text-center">
                    <button type="button" id="statecsv" class="btn btn-default">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                        <strong>CSV</strong>
                    </button>
                </td>
                <td class="text-center">
                    <button type="button" id="statejson" class="btn btn-default">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                        <strong>JSON</strong>
                    </button>
                </td>
                <td class="text-center">
                    <button type="button" id="statexml" class="btn btn-default">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                        <strong>XML</strong>
                    </button>
                </td>
            </tr>

            <tr>
                <td class="col-md-7">
                    <strong>Ports</strong>
                    @*<div class="input-group">
                            <label class="control-label input-group-addon"><strong>Cities By Country&nbsp;</strong></label>
                            <select id="ddlCityByCountry" class="form-control"></select>
                        </div>*@
                </td>
                <td class="text-center">
                    <button type="button" id="portcsv" class="btn btn-default">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                        <strong>CSV</strong>
                    </button>
                </td>
                <td class="text-center">
                    <button type="button" id="portjson" class="btn btn-default">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                        <strong>JSON</strong>
                    </button>
                </td>
                <td class="text-center">
                    <button type="button" id="portxml" class="btn btn-default">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                        <strong>XML</strong>
                    </button>
                </td>
            </tr>

            <tr>
                <td class="col-md-7">
                    <div class="input-group">
                        <label class="control-label input-group-addon"><strong>Hotels By Country</strong></label>
                        <select id="ddlHotelByCountry" class="form-control"></select>
                    </div>
                </td>
                <td class="text-center">
                    <button type="button" id="hotelcsv" class="btn btn-default">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                        <strong>CSV</strong>
                    </button>
                </td>
                <td class="text-center">
                    <button type="button" id="hoteljson" class="btn btn-default">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                        <strong>JSON</strong>
                    </button>
                </td>
                <td class="text-center">
                    <button type="button" id="hotelxml" class="btn btn-default">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                        <strong>XML</strong>
                    </button>
                </td>
            </tr>
        </table>
    </div>
</div>

@section scripts{
    <script type="text/javascript">
        $(document).ready(function () {
                var url = '@System.Configuration.ConfigurationManager.AppSettings["AllCountries"].ToString()';
                $.ajax({
                    url: url,
                    type: "get",
                    Accept: "application/json",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    data: {},
                    success: function (result) {
                        $('#ddlHotelByCountry').append($('<option></option>').val('').html('-- All --'));
                        $('#ddlCityByCountry').append($('<option></option>').val('').html('-- All --'));
                        $.each(result, function (i) {
                            $('#ddlHotelByCountry').append($('<option></option>').val(result[i].countryCode).html(result[i].countryName));
                            $('#ddlCityByCountry').append($('<option></option>').val(result[i].countryCode).html(result[i].countryName));
                        });
                        //$("#ddlHotelByCountry").prepend("<option></option>").val('');

                    },

                    failure: function () {
                        alert("Error");
                    }

            });

            $('#countrycsv').click(function () {
                window.location.href = window.location.origin + '@System.Configuration.ConfigurationManager.AppSettings["Download_AllCountries_CSV"].ToString()';;
            });

            $('#countryjson').click(function () {
                window.location.href = window.location.origin + '@System.Configuration.ConfigurationManager.AppSettings["Download_AllCountries_JSON"].ToString()';;
            });

            $('#countryxml').click(function () {
                window.location.href = window.location.origin + '@System.Configuration.ConfigurationManager.AppSettings["Download_AllCountries_XML"].ToString()';;
            });

            $('#citycsv').click(function () {
                window.location.href = window.location.origin + '@System.Configuration.ConfigurationManager.AppSettings["Download_AllCities_CSV"].ToString()';;
            });

            $('#cityjson').click(function () {
                window.location.href = window.location.origin + '@System.Configuration.ConfigurationManager.AppSettings["Download_AllCities_JSON"].ToString()';;
            });

            $('#cityxml').click(function () {
                window.location.href = window.location.origin + '@System.Configuration.ConfigurationManager.AppSettings["Download_AllCities_XML"].ToString()';;
            });

            $('#statecsv').click(function () {
                window.location.href = window.location.origin + '@System.Configuration.ConfigurationManager.AppSettings["Download_AllStates_CSV"].ToString()';;
            });

            $('#statejson').click(function () {
                window.location.href = window.location.origin + '@System.Configuration.ConfigurationManager.AppSettings["Download_AllStates_JSON"].ToString()';;
            });

            $('#statexml').click(function () {
                window.location.href = window.location.origin + '@System.Configuration.ConfigurationManager.AppSettings["Download_AllStates_XML"].ToString()';;
            });

            $('#portcsv').click(function () {
                window.location.href = window.location.origin + '@System.Configuration.ConfigurationManager.AppSettings["Download_AllPorts_CSV"].ToString()';;
            });

            $('#portjson').click(function () {
                window.location.href = window.location.origin + '@System.Configuration.ConfigurationManager.AppSettings["Download_AllPorts_JSON"].ToString()';;
            });

            $('#portxml').click(function () {
                window.location.href = window.location.origin + '@System.Configuration.ConfigurationManager.AppSettings["Download_AllPorts_XML"].ToString()';;
            });
        });
    </script>
}

